<div class="flex justify-content-center align-items-center flex-column">
  <h1 class="text-primary text-center">Cycle statistics</h1>
  <div class="w-full">
    <div
      class="w-full flex justify-content-center align-items-center flex-column"
    >
      <div
        class="w-full flex justify-content-center align-items-center flex-column"
      >
        <h3>Evaluation cycle:</h3>
        <p-select
          class="w-20rem"
          [options]="cycleChoices"
          optionLabel="name"
          [(ngModel)]="selectedCycle"
        ></p-select>
      </div>
      <div
        class="w-full flex justify-content-center align-items-center flex-column"
      >
        <h3>Team:</h3>
        <p-select
          class="w-20rem"
          [options]="teamChoices"
          optionLabel="name"
          [(ngModel)]="selectedTeam"
        ></p-select>
      </div>
      <p-button class="mt-3" (onClick)="fetchData()">Submit</p-button>
    </div>
    <p-divider *ngIf="statistics != undefined"></p-divider>
    <div
      *ngIf="statistics != undefined"
      class="flex justify-content-center align-content-center flex-column pb-5 mb-5"
    >
      <div class="flex justify-content-center align-items-center gap-2">
        <h1 class="text-gray-400 ml-2">Total:</h1>
        <h1>{{ statistics.totalEvaluations }}</h1>
      </div>
      <div class="flex justify-content-between align-items-center text-sm">
        <div class="flex justify-content-center align-items-center flex-column">
          <h1 class="text-primary">Submitted:</h1>
          <h1 class="text-primary">{{ statistics.submittedEvaluations }}</h1>
        </div>
        <div class="flex justify-content-center align-items-center flex-column">
          <h1 class="text-orange-300">Pending:</h1>
          <h1 class="text-orange-300">{{ statistics.pendingEvaluations }}</h1>
        </div>
        <div class="flex justify-content-center align-items-center flex-column">
          <h1 class="text-red-500">Missed:</h1>
          <h1 class="text-red-500">{{ statistics.missedEvaluations }}</h1>
        </div>
      </div>
    </div>
    <p-table [value]="submittedEvaluations" [tableStyle]="{ 'min-width': '50rem' }" *ngIf="submittedEvaluations.length > 0">
      <ng-template #header>
        <tr>
          <th>Reviewer</th>
          <th>Reviewee</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template #body let-evaluation>
        <tr>
          <td>{{ evaluation.reviewer }}</td>
          <td>{{ evaluation.reviewee }}</td>
          <td><a [href]="['/evaluation/' + evaluation.id]" class="text-center pi pi-info-circle no-underline text-primary"></a></td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
